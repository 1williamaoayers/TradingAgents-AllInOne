# TradingAgents CLI (æ— å¤´æ¨¡å¼) ä½¿ç”¨è¯´æ˜ä¹¦

> **æœ€åæ›´æ–°**: 2026-01-19
> **é€‚ç”¨ç‰ˆæœ¬**: TradingAgents-arm32 v1.1 (æ”¯æŒè‡ªåŠ¨æ¨¡å¼)
> **æ ¸å¿ƒä»·å€¼**: ç»•è¿‡å‰ç«¯ç•Œé¢ï¼Œæ”¯æŒäº¤äº’å¼æˆ–å…¨è‡ªåŠ¨è¿è¡Œè‚¡ç¥¨åˆ†æã€‚


---

## 1. ğŸš€ å¿«é€Ÿå¼€å§‹

### 1.1 ç¯å¢ƒå‡†å¤‡ (Dockeræ¨¡å¼)
æ— éœ€å®‰è£…ä»»ä½•æœ¬åœ° Python ä¾èµ–ï¼Œç›´æ¥åˆ©ç”¨ç°æœ‰çš„ Docker å®¹å™¨ç¯å¢ƒã€‚

**å‰ææ¡ä»¶**: ç¡®ä¿ `tradingagents` å®¹å™¨å·²å¯åŠ¨ã€‚
```bash
docker-compose up -d
```

### 1.2 å¯åŠ¨åˆ†æ
ä½¿ç”¨ `docker exec` åœ¨å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤ï¼š

**äº¤äº’æ¨¡å¼**:
```bash
docker exec -it tradingagents python -m cli.main analyze
```

**è‡ªåŠ¨æ¨¡å¼ (å•è¡Œå‘½ä»¤)**:
```bash
docker exec tradingagents python -m cli.main analyze -t 01810.HK -m 3
```

å¯åŠ¨äº¤äº’æ¨¡å¼åï¼ŒæŒ‰ç…§å±å¹•æç¤ºæ“ä½œï¼š
1. é€‰æ‹©å¸‚åœº (ç¾è‚¡/Aè‚¡/æ¸¯è‚¡)
2. è¾“å…¥è‚¡ç¥¨ä»£ç  (å¦‚ `01810.HK`)
3. ç¡®è®¤åˆ†ææ—¥æœŸ
4. é€‰æ‹©åˆ†æå¸ˆå›¢é˜Ÿ
5. è®¾ç½®ç ”ç©¶æ·±åº¦ (1-5çº§)

---

## 2. ğŸ› ï¸ è¿›é˜¶ç”¨æ³•

### 2.1 æŸ¥çœ‹å¸®åŠ©
```bash
docker exec tradingagents python -m cli.main --help
```


### 2.2 è‡ªåŠ¨è¿è¡Œæ¨¡å¼ (Non-Interactive)
âœ… **æ–°å¢åŠŸèƒ½**: é€‚åˆç¼–å†™è„šæœ¬æˆ–å®šæ—¶ä»»åŠ¡ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚

**åŸºæœ¬å‘½ä»¤æ ¼å¼**:
```bash
python -m cli.main analyze --ticker <ä»£ç > --market <1/2/3> [å…¶ä»–å‚æ•°]
```

**ç¤ºä¾‹**:
```bash
# åˆ†æå°ç±³é›†å›¢ (æ¸¯è‚¡)
docker exec tradingagents python -m cli.main analyze --ticker 01810.HK --market 3

# åˆ†ææ‹›å•†é“¶è¡Œ (Aè‚¡, æŒ‡å®šæ—¥æœŸå’Œæ·±åº¦)
docker exec tradingagents python -m cli.main analyze -t 600036 -m 2 --date 2026-01-19 --depth 4
```


**å‚æ•°è¯´æ˜**:
| å‚æ•° | ç®€å†™ | è¯´æ˜ | å¿…å¡« | ç¤ºä¾‹ |
|------|------|------|------|------|
| `--ticker` | `-t` | è‚¡ç¥¨ä»£ç  | æ˜¯ | `01810.HK`, `600036` |
| `--market` | `-m` | å¸‚åœºID (1=ç¾è‚¡, 2=Aè‚¡, 3=æ¸¯è‚¡) | å¦(è‡ªåŠ¨æ¨æ–­) | `3` |
| `--date` | `-d` | åˆ†ææ—¥æœŸ (YYYY-MM-DD) | å¦(é»˜è®¤ä»Šæ—¥) | `2026-01-19` |
| `--depth` | `-l` | ç ”ç©¶æ·±åº¦ (1-5) | å¦(é»˜è®¤3) | `4` |
| `--provider`| `-p` | LLMæä¾›å•† | å¦(é»˜è®¤deepseek v3) | `dashscope` |



---

## 3. ğŸ“‚ ç»“æœåœ¨å“ªé‡Œï¼Ÿ

åˆ†æå®Œæˆåï¼Œç»“æœä¼šè‡ªåŠ¨ä¿å­˜åˆ°ä»¥ä¸‹ä½ç½®ï¼š

**ä¸»ç›®å½•**: `/anti/ak-trading/TradingAgents-arm32/results/`

**å…·ä½“è·¯å¾„ç»“æ„**:
```text
results/
â”œâ”€â”€ <è‚¡ç¥¨ä»£ç >/          # ä¾‹å¦‚ 01810.HK
â”‚   â””â”€â”€ <åˆ†ææ—¥æœŸ>/      # ä¾‹å¦‚ 2026-01-19
â”‚       â”œâ”€â”€ reports/    # å­˜æ”¾æ‰€æœ‰ Markdown æŠ¥å‘Š
â”‚       â”‚   â”œâ”€â”€ final_trade_decision.md  (â˜… æœ€ç»ˆå†³ç­–/ä¹°å–å»ºè®®)
â”‚       â”‚   â”œâ”€â”€ investment_plan.md       (è¯¦ç»†æŠ•èµ„è®¡åˆ’)
â”‚       â”‚   â”œâ”€â”€ market_report.md         (æŠ€æœ¯é¢åˆ†æ)
â”‚       â”‚   â”œâ”€â”€ news_report.md           (æ–°é—»é¢åˆ†æ)
â”‚       â”‚   â””â”€â”€ ... (å…¶ä»–åˆ†é¡¹æŠ¥å‘Š)
â”‚       â””â”€â”€ message_tool.log
```

---

## 4. ğŸ’¡ å¸¸è§é—®é¢˜ (FAQ)

**Q: ä¸ºä»€ä¹ˆç”¨ CLI è€Œä¸ç”¨ç½‘é¡µç‰ˆï¼Ÿ**
A: ç½‘é¡µç‰ˆ (Streamlit) åœ¨å¤„ç†å¤æ‚é€»è¾‘æ—¶å®¹æ˜“å¡é¡¿æˆ–è¶…æ—¶ã€‚CLI ç‰ˆæ— å¤´æ¨¡å¼æ›´ç¨³å®šï¼Œé€‚åˆåå°æ‰¹é‡è¿è¡Œã€‚

**Q: éœ€è¦å¯åŠ¨ FastAPI åç«¯å—ï¼Ÿ**
A: **éœ€è¦**ã€‚Docker æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬å®é™…æ˜¯åœ¨åç«¯å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤ï¼Œå¤ç”¨äº† Web ç‰ˆçš„æ‰€æœ‰ç¯å¢ƒå’Œæ•°æ®åº“è¿æ¥ï¼Œå› æ­¤è¯·ç¡®ä¿ `docker-compose up -d` å·²æˆåŠŸè¿è¡Œã€‚

**Q: æŠ¥é”™ `ModuleNotFoundError` æ€ä¹ˆåŠï¼Ÿ**
A: å¦‚æœä½¿ç”¨ `docker exec` è¿è¡Œï¼Œä¸ä¼šå‡ºç°æ­¤é—®é¢˜ï¼Œå› ä¸ºå®¹å™¨å†…ç¯å¢ƒå·²é¢„è£…å¥½æ‰€æœ‰ä¾èµ–ã€‚è¯·å‹¿åœ¨å®¿ä¸»æœºç›´æ¥è¿è¡Œ Pythonã€‚


---

## 5. ğŸ” æŠ€æœ¯åŸç†
`cli.main` æ¨¡å—ç›´æ¥å®ä¾‹åŒ– `TradingAgentsGraph`ï¼Œç»•è¿‡äº† `Streamlit` çš„ Session State ç®¡ç†ï¼Œç›´æ¥è°ƒç”¨ `graph.propagate()` æ‰§è¡Œ LangGraph å·¥ä½œæµã€‚

**æ•°æ®æµå‘**:
`CLI è¾“å…¥` -> `TradingAgentsGraph` -> `AIåˆ†æ` -> `æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ + MongoDB`
