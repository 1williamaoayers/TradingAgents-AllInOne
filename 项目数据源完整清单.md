# TradingAgents-AllInOne 数据源完整清单

📅 更新时间: 2026-01-23 15:46

---

## 📊 总览

| 类别 | 数量 | 说明 |
|:---|:---:|:---|
| **行情数据源** | 13个 | MongoDB、AKShare、yfinance等 |
| **新闻数据源** | 7个独立源 + 7个RSS子源 | 共14个可用源 |
| **总计** | **27个数据源** | 全市场覆盖 |

---

## 🎯 行情数据源清单（13个）

来源：`src/tradingagents/constants/data_sources.py`

| # | 数据源 | 类型 | 支持市场 | 免费 | 需API密钥 |
|:---:|:---|:---|:---|:---:|:---:|
| 1 | **MongoDB** | 缓存 | 全市场 | ✅ | ❌ |
| 2 | **AKShare** | 开源 | A股/港股 | ✅ | ❌ |
| 3 | **BaoStock** | 免费 | A股 | ✅ | ❌ |
| 4 | **yfinance** | Yahoo库 | 美股/港股 | ✅ | ❌ |
| 5 | **Finnhub** | 实时 | 美股 | ✅ | ✅ |
| 6 | **Yahoo Finance** | 全球 | 美股/港股 | ✅ | ❌ |
| 7 | **Alpha Vantage** | 技术分析 | 美股 | ✅ | ✅ |
| 8 | **IEX Cloud** | 实时 | 美股 | ❌ | ✅ |
| 9 | **Wind 万得** | 专业终端 | 全市场 | ❌ | ✅ |
| 10 | **Choice** | 东方财富 | A股 | ❌ | ✅ |
| 11 | **Quandl** | 经济数据 | 美股 | ✅ | ✅ |
| 12 | **Local File** | 本地 | 全市场 | ✅ | ❌ |
| 13 | **Custom** | 自定义 | 全市场 | ✅ | ❌ |

---

## 📰 新闻数据源清单（14个）

### 独立数据源（7个）

| # | 数据源 | 类型 | 说明 |
|:---:|:---|:---|:---|
| 1 | **MongoDB** | 数据库 | 历史新闻缓存查询 |
| 2 | **东方财富API** | API直调 | 公告+研报+新闻（AKShareAdapter） |
| 3 | **Serper** | Google搜索API | 实时新闻搜索（付费） |
| 4 | **Alpha Vantage** | API | 美股新闻（带情绪分析） |
| 5 | **FinnHub** | API | 美股新闻（7天内） |
| 6 | **Google News爬虫** | 爬虫 | 如有配置 |
| 7 | **Playwright爬虫** | 外部服务 | 8个爬虫源聚合 |

### RSS聚合源（7个子源）

| # | RSS源 | 说明 |
|:---:|:---|:---|
| 1 | **金十数据** | `rss.cdx.hidns.co/jin10/flash` |
| 2 | **财联社** | `rss.cdx.hidns.co/cls/telegraph` |
| 3 | **格隆汇** | `rss.cdx.hidns.co/gelonghui/live` |
| 4 | **华尔街见闻** | `rss.cdx.hidns.co/wallstreetcn/live/global` |
| 5 | **Google News 香港版** | 中文财经新闻 |
| 6 | **Google News 美国版** | 英文财经新闻 |
| 7 | **Yahoo Finance RSS** | 美股财经新闻 |

---

## 🔥 新闻数据源调用架构

### 适配器层（5个）

```
app/worker/news_adapters/
├── akshare_adapter.py       → 东方财富API
├── alpha_vantage_adapter.py → Alpha Vantage API
├── finnhub_adapter.py       → FinnHub API
├── rss_adapter.py           → 7个RSS子源
└── scraper_adapter.py       → Playwright爬虫服务
```

### 工具层调用

**A股新闻并行融合（5步）**：
1. 东方财富实时新闻
2. AKShare多源快讯
3. Google/Serper搜索
4. Playwright爬虫
5. MongoDB数据库

**港股新闻并行融合（6步）**：
1. 东方财富个股新闻
2. AKShare多源快讯
3. Serper实时搜索
4. Alpha Vantage（美股）
5. RSS新闻源
6. MongoDB数据库

**美股新闻并行融合（类似）**：
- Alpha Vantage
- FinnHub
- RSS聚合
- Serper搜索
- MongoDB缓存

---

## ✅ 实际验证结果

根据 `notes.md` 历史验证（2026-01-23）：

- ✅ **1135条新闻**聚合成功
- ✅ **14个数据源**正常工作
- ✅ 数据源分布：
  - 富途系：3个（研报285、新闻129、快讯30）
  - A股系：7个（今日头条127、AKShare116、东财49、财联社107、同花顺26、新浪40）
  - 港股系：3个（智通财经9、格隆汇81、华尔街见闻23）
  - 美股/通用：1个（RSS聚合113）

---

## 🎯 架构特点

### 分层设计
- **缓存层**：MongoDB优先（最快）
- **API层**：东方财富、Serper、Alpha Vantage、FinnHub
- **爬虫层**：Playwright爬虫服务
- **聚合层**：RSS多源订阅

### 并行策略
- 多源同时获取
- 智能去重（NewsDeduplicator）
- 自动降级

### 市场覆盖
- **A股**：东方财富、AKShare、同花顺、新浪等
- **港股**：智通财经、格隆汇、华尔街见闻
- **美股**：Alpha Vantage、FinnHub、Yahoo、Google News

---

## 📁 相关文件

- 行情数据源定义: `src/tradingagents/constants/data_sources.py`
- 新闻适配器: `src/app/worker/news_adapters/`
- 新闻工具: `src/tradingagents/tools/unified_news_tool.py`
- AKShare提供器: `src/tradingagents/dataflows/providers/china/akshare.py`

---

## 🔑 关键发现

1. **MongoDB双重身份**：既是缓存也是独立数据源
2. **Serper独立计费**：与AKShare、AlphaVantage同级别
3. **RSS是聚合器**：包含7个独立子源
4. **Playwright外部服务**：调用独立爬虫API，默认全采8个源
5. **东方财富直调**：AKShareAdapter绕过库直接调用API，模拟Chrome 120
