# TradingAgents CLI ç³»ç»Ÿä½¿ç”¨è¯´æ˜

ğŸ“… **æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
ğŸ“ **æ›´æ–°æ—¥æœŸ**: 2026-01-23  
ğŸ¯ **é€‚ç”¨ç‰ˆæœ¬**: TradingAgents-AllInOne  

---

## ğŸ“– ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
3. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
4. [è¯¦ç»†ä½¿ç”¨æŒ‡å—](#è¯¦ç»†ä½¿ç”¨æŒ‡å—)
5. [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
6. [å‘½ä»¤å‚è€ƒ](#å‘½ä»¤å‚è€ƒ)
7. [æ™ºèƒ½ä½“å·¥ä½œæµ](#æ™ºèƒ½ä½“å·¥ä½œæµ)
8. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸš€ Docker CLI å¿«é€Ÿå‚è€ƒ (TL;DR)

> **æœ€å¸¸ç”¨çš„ä¸€é”®å‘½ä»¤**ï¼ˆå¤åˆ¶å³ç”¨ï¼‰

```bash
# æ¸¯è‚¡å°ç±³ï¼Œæ–°é—»åˆ†æï¼ŒDeepSeek
docker exec -it ta-app python -m cli.main analyze -t 01810.HK -m 3 -a news -p deepseek

# Aè‚¡æ‹›å•†é“¶è¡Œï¼Œå¸‚åœº+åŸºæœ¬é¢ï¼Œå¿«é€Ÿåˆ†æ
docker exec -it ta-app python -m cli.main analyze -t 600036 -m 2 -a market -a fundamentals -l 1 -p dashscope

# è¿›å…¥å®¹å™¨äº¤äº’æ¨¡å¼
docker exec -it ta-app bash
```

**å‚æ•°é€ŸæŸ¥**: `-t` ä»£ç  | `-m` å¸‚åœº(1ç¾/2A/3æ¸¯) | `-a` åˆ†æå¸ˆ | `-p` LLMæä¾›å•† | `-l` æ·±åº¦(1-3)

---

## ç³»ç»Ÿæ¦‚è¿°

**TradingAgents CLI** æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤è¡Œé‡‘èåˆ†æå·¥å…·ï¼Œæä¾›ä¸Webå‰ç«¯å®Œå…¨ä¸€è‡´çš„å¤šæ™ºèƒ½ä½“è‚¡ç¥¨åˆ†æèƒ½åŠ›ã€‚

### ğŸ¯ æ ¸å¿ƒä»·å€¼

- âœ… **å®Œæ•´åŠŸèƒ½**: ä¸Webå‰ç«¯å…±äº«ç›¸åŒçš„åç«¯é€»è¾‘å’Œæ•°æ®æº
- âœ… **ç²¾ç¾ç•Œé¢**: åŸºäºRichåº“çš„ç°ä»£åŒ–ç»ˆç«¯UI
- âœ… **å®æ—¶åé¦ˆ**: åŠ¨æ€æ˜¾ç¤ºæ™ºèƒ½ä½“æ‰§è¡Œè¿›åº¦å’Œåˆ†æç»“æœ
- âœ… **å¤šå¸‚åœºæ”¯æŒ**: ç¾è‚¡ã€Aè‚¡ã€æ¸¯è‚¡ä¸‰å¤§å¸‚åœº
- âœ… **é«˜åº¦å¯é…ç½®**: çµæ´»é€‰æ‹©LLMæä¾›å•†ã€æ™ºèƒ½ä½“å’Œåˆ†ææ·±åº¦

### ğŸ“‚ æ–‡ä»¶ä½ç½®

- **ä¸»ç¨‹åº**: `src/cli/main.py` (2157è¡Œ)
- **å·¥å…·æ¨¡å—**: `cli/utils.py`
- **æ•°æ®æ¨¡å‹**: `cli/models.py`
- **æ¼”ç¤ºè„šæœ¬**: `src/examples/cli_demo.py`

---

## æ ¸å¿ƒç‰¹æ€§

### 1ï¸âƒ£ **ä¸‰å¤§å¸‚åœºæ”¯æŒ**

| å¸‚åœº | ä»£ç æ ¼å¼ | ç¤ºä¾‹ | æ•°æ®æº |
|:---|:---|:---|:---|
| ğŸ‡ºğŸ‡¸ **ç¾è‚¡** | å¤§å†™å­—æ¯ (1-5ä½) | `SPY`, `AAPL`, `TSLA`, `NVDA` | Yahoo Finance |
| ğŸ‡¨ğŸ‡³ **Aè‚¡** | 6ä½æ•°å­— | `600036` (æ‹›å•†é“¶è¡Œ), `000001` (å¹³å®‰é“¶è¡Œ) | AKShare + ä¸œæ–¹è´¢å¯Œ |
| ğŸ‡­ğŸ‡° **æ¸¯è‚¡** | ä»£ç .HK | `0700.HK` (è…¾è®¯), `09988.HK` (é˜¿é‡Œ) | Yahoo Finance |

### 2ï¸âƒ£ **äº”å¤§æ™ºèƒ½ä½“å›¢é˜Ÿ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  I. åˆ†æå¸ˆå›¢é˜Ÿ (Analyst Team)                            â”‚
â”‚     â”œâ”€ Market Analyst (å¸‚åœºåˆ†æå¸ˆ)                       â”‚
â”‚     â”œâ”€ Social Analyst (èˆ†æƒ…åˆ†æå¸ˆ)                       â”‚
â”‚     â”œâ”€ News Analyst (æ–°é—»åˆ†æå¸ˆ)                         â”‚
â”‚     â””â”€ Fundamentals Analyst (åŸºæœ¬é¢åˆ†æå¸ˆ)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  II. ç ”ç©¶å›¢é˜Ÿ (Research Team)                           â”‚
â”‚     â”œâ”€ Bull Researcher (çœ‹æ¶¨ç ”ç©¶å‘˜)                     â”‚
â”‚     â”œâ”€ Bear Researcher (çœ‹è·Œç ”ç©¶å‘˜)                     â”‚
â”‚     â””â”€ Research Manager (ç ”ç©¶ç»ç†)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  III. äº¤æ˜“å›¢é˜Ÿ (Trading Team)                           â”‚
â”‚     â””â”€ Trader (äº¤æ˜“å‘˜)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  IV. é£é™©ç®¡ç† (Risk Management)                         â”‚
â”‚     â”œâ”€ Risky Analyst (æ¿€è¿›åˆ†æå¸ˆ)                       â”‚
â”‚     â”œâ”€ Neutral Analyst (ä¸­ç«‹åˆ†æå¸ˆ)                     â”‚
â”‚     â””â”€ Safe Analyst (ä¿å®ˆåˆ†æå¸ˆ)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  V. æŠ•èµ„ç»„åˆç®¡ç† (Portfolio Management)                 â”‚
â”‚     â””â”€ Portfolio Manager (ç»„åˆç»ç†)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3ï¸âƒ£ **æ•°æ®æºé›†æˆ**

CLIç³»ç»Ÿä½¿ç”¨ä¸Webå‰ç«¯**å®Œå…¨ç›¸åŒ**çš„æ•°æ®æºï¼š

**æ–°é—»æ•°æ®æº** (14ä¸ªä¸€çº§æº + 14ä¸ªå­æº):
- ä¸œæ–¹è´¢å¯Œã€AKShareå¤šæºå¿«è®¯ (7ä¸ªå­æº)
- Serperå®æ—¶æœç´¢ã€Alpha Vantage
- RSSèšåˆ (7ä¸ªå­æº)ã€MongoDBç¼“å­˜
- Playwrightçˆ¬è™« 
**è¡Œæƒ…æ•°æ®æº** (13ä¸ª):
- MongoDBã€AKShareã€yfinanceã€Finnhub
- Tushareã€BaoStockã€ä¸œæ–¹è´¢å¯Œã€æ–°æµªè´¢ç»
- Alpha Vantageã€IEX Cloudã€Polygon.ioç­‰

### 4ï¸âƒ£ **ç²¾ç¾ç»ˆç«¯ç•Œé¢**

CLIä½¿ç”¨ **Richåº“** å®ç°ç°ä»£åŒ–ç•Œé¢ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Welcome to TradingAgents                â”‚
â”‚              å¤šæ™ºèƒ½ä½“å¤§è¯­è¨€æ¨¡å‹é‡‘èäº¤æ˜“æ¡†æ¶                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Progress Panel      â”‚  Messages & Tools Panel           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Team   Agent    â”‚ â”‚ â”‚ Time  Type    Content         â”‚ â”‚
â”‚  â”‚ Analyst Market  â”‚ â”‚ â”‚ 10:23 Tool    get_stock_data  â”‚ â”‚
â”‚  â”‚        Social   â”‚ â”‚ â”‚ 10:24 Message Analyzing...    â”‚ â”‚
â”‚  â”‚        News     â”‚ â”‚ â”‚ ...                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Current Report (Markdownæ¸²æŸ“)                           â”‚
â”‚  ### Market Analysis                                     â”‚
â”‚  - Current Price: $XXX                                   â”‚
â”‚  - Technical Indicators: ...                             â”‚
â”‚  ...                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tool Calls: 45 | LLM Calls: 12 | Reports: 5            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5ï¸âƒ£ **æ”¯æŒçš„LLMæä¾›å•†**

- OpenAI (GPT-4, GPT-3.5)
- Anthropic (Claudeç³»åˆ—)
- é˜¿é‡Œç™¾ç‚¼ (é€šä¹‰åƒé—®)
- Google Gemini
- DeepSeek
- å…¶ä»–å…¼å®¹OpenAI APIçš„æœåŠ¡

---

## å¿«é€Ÿå¼€å§‹

> **ğŸ’¡ é‡è¦æç¤º**ï¼šæœ¬é¡¹ç›®æ˜¯Dockeré¡¹ç›®ï¼Œæ¨èä½¿ç”¨Dockerè¿è¡Œã€‚CLIå·¥å…·æ”¯æŒ**æœ¬åœ°è¿è¡Œ**å’Œ**Dockerå®¹å™¨å†…è¿è¡Œ**ä¸¤ç§æ–¹å¼ã€‚

---

## ğŸ³ Dockerç¯å¢ƒä¸‹ä½¿ç”¨CLI (æ¨èâ­â­â­)

### ğŸ“¦ **å‰ç½®æ¡ä»¶**

ç¡®ä¿DockeræœåŠ¡å·²å¯åŠ¨ï¼š

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker-compose ps

# åº”è¯¥çœ‹åˆ° ta-app å®¹å™¨å¤„äº running çŠ¶æ€
```

---

### ğŸ¯ **æ–¹å¼ä¸€ï¼šDockerä¸€é”®å‘½ä»¤** (æœ€å¿«é€Ÿâ­)

ç›´æ¥åœ¨**å®¿ä¸»æœº**æ‰§è¡Œï¼Œæ— éœ€è¿›å…¥å®¹å™¨ï¼š

#### **åŸºç¡€è¯­æ³•**

```bash
docker exec -it ta-app python -m cli.main analyze [å‚æ•°...]
```

#### **å®æˆ˜ç¤ºä¾‹**

**æ¸¯è‚¡01810ï¼Œä»Šå¤©ï¼Œæ–°é—»åˆ†æå¸ˆï¼ŒDeepSeek**ï¼š
```bash
docker exec -it ta-app python -m cli.main analyze \
  -t 01810.HK \
  -m 3 \
  -d $(date +%Y-%m-%d) \
  -a news \
  -p deepseek
```

**Aè‚¡æ‹›å•†é“¶è¡Œï¼Œå¿«é€Ÿåˆ†æï¼Œå¸‚åœº+åŸºæœ¬é¢**ï¼š
```bash
docker exec -it ta-app python -m cli.main analyze \
  -t 600036 \
  -m 2 \
  -a market -a fundamentals \
  -p dashscope \
  -l 1
```

**ç¾è‚¡è‹¹æœï¼Œæ·±åº¦åˆ†æï¼Œå…¨éƒ¨åˆ†æå¸ˆ**ï¼š
```bash
docker exec -it ta-app python -m cli.main analyze \
  -t AAPL \
  -m 1 \
  -a market -a news -a fundamentals -a social \
  -p openai \
  -l 3
```

**Windows PowerShell ç”¨æˆ·**ï¼ˆæ¢è¡Œç¬¦ä¸åŒï¼‰ï¼š
```powershell
docker exec -it ta-app python -m cli.main analyze `
  -t 01810.HK `
  -m 3 `
  -a news `
  -p deepseek
```

---

### ğŸ–¥ï¸ **æ–¹å¼äºŒï¼šè¿›å…¥å®¹å™¨äº¤äº’æ¨¡å¼**

é€‚åˆéœ€è¦å¤šæ¬¡æ‰§è¡Œæˆ–è°ƒè¯•çš„åœºæ™¯ï¼š

#### **æ­¥éª¤1ï¼šè¿›å…¥å®¹å™¨**

```bash
docker exec -it ta-app bash
```

ä½ ä¼šçœ‹åˆ°å®¹å™¨å†…çš„æç¤ºç¬¦ï¼š
```
root@xxxxx:/app#
```

#### **æ­¥éª¤2ï¼šè¿è¡ŒCLI**

**äº¤äº’å¼åˆ†æ** (ä¼šæç¤ºä½ è¾“å…¥å‚æ•°)ï¼š
```bash
python -m cli.main
```

**ä¸€é”®å‘½ä»¤** (ç›´æ¥æŒ‡å®šå‚æ•°)ï¼š
```bash
python -m cli.main analyze \
  -t 01810.HK \
  -m 3 \
  -a news \
  -p deepseek
```

**æŸ¥çœ‹å¸®åŠ©**ï¼š
```bash
python -m cli.main --help
python -m cli.main help
```

#### **æ­¥éª¤3ï¼šé€€å‡ºå®¹å™¨**

```bash
exit
```

---

### ğŸ“Š **æ–¹å¼ä¸‰ï¼šæŸ¥çœ‹å®æ—¶æ—¥å¿—**

å¯åŠ¨åˆ†æåï¼Œåœ¨å¦ä¸€ä¸ªç»ˆç«¯æŸ¥çœ‹æ—¥å¿—ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
docker logs -f ta-app

# åªæŸ¥çœ‹æœ€è¿‘100è¡Œ
docker logs --tail 100 -f ta-app

# æŸ¥çœ‹CLIä¸“ç”¨æ—¥å¿—ï¼ˆè¿›å…¥å®¹å™¨åï¼‰
docker exec -it ta-app tail -f /app/logs/cli.log
```

---

### ğŸ’¾ **Dockerç¯å¢ƒä¸‹çš„æ•°æ®æŒä¹…åŒ–**

CLIåˆ†æç»“æœä¼šè‡ªåŠ¨ä¿å­˜åˆ°Docker Volumeï¼š

```bash
# æŸ¥çœ‹æ•°æ®å·
docker volume ls | grep ta

# æŸ¥çœ‹åˆ†æå†å²ï¼ˆéœ€è¿›å…¥å®¹å™¨ï¼‰
docker exec -it ta-app python -c "
from tradingagents.config.mongodb_storage import MongoDBStorage
storage = MongoDBStorage()
print(storage.get_recent_analyses(limit=5))
"
```

---

### ğŸ”„ **Dockerç¯å¢ƒä¸‹çš„é…ç½®ç®¡ç†**

#### **ä¿®æ”¹ç¯å¢ƒå˜é‡**

1. ç¼–è¾‘å®¿ä¸»æœºçš„ `.env` æ–‡ä»¶ï¼š
```bash
# åœ¨å®¿ä¸»æœºç¼–è¾‘
nano .env  # æˆ– vim .env

# ä¿®æ”¹APIå¯†é’¥
DEEPSEEK_API_KEY=sk-new-key...
```

2. é‡å¯å®¹å™¨åº”ç”¨æ–°é…ç½®ï¼š
```bash
docker-compose restart tradingagents
```

#### **æŸ¥çœ‹å½“å‰é…ç½®**

```bash
docker exec -it ta-app python -m cli.main config
```

---

### ğŸ› ï¸ **Dockerç¯å¢ƒå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥**

| æ“ä½œ | å‘½ä»¤ |
|:---|:---|
| æŸ¥çœ‹å®¹å™¨çŠ¶æ€ | `docker-compose ps` |
| å¯åŠ¨æœåŠ¡ | `docker-compose up -d` |
| åœæ­¢æœåŠ¡ | `docker-compose down` |
| é‡å¯åº”ç”¨ | `docker-compose restart tradingagents` |
| è¿›å…¥å®¹å™¨ | `docker exec -it ta-app bash` |
| æŸ¥çœ‹æ—¥å¿— | `docker logs -f ta-app` |
| æ›´æ–°é•œåƒ | `docker-compose pull && docker-compose up -d` |
| æ¸…ç†é‡å»º | `docker-compose down -v && docker-compose up -d` |

---

## ğŸ’» æœ¬åœ°ç¯å¢ƒä¸‹ä½¿ç”¨CLI (ä¸ä½¿ç”¨Docker)

### ğŸš€ **æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œåˆ†æ**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd d:\anti\TradingAgents-AllInOne

# è¿è¡ŒCLIä¸»ç¨‹åº
python -m cli.main

# æˆ–è€…ç›´æ¥è¿è¡Œ
python src/cli/main.py
```

### ğŸ“‹ **æ–¹å¼äºŒï¼šä½¿ç”¨æ¼”ç¤ºè„šæœ¬**

```bash
# æŸ¥çœ‹CLIåŠŸèƒ½æ¼”ç¤º
python src/examples/cli_demo.py
```

### âš™ï¸ **é¦–æ¬¡ä½¿ç”¨å‰å‡†å¤‡**

1. **é…ç½®ç¯å¢ƒå˜é‡** (`.env` æ–‡ä»¶):
```env
# å¿…é€‰ï¼šè‡³å°‘é…ç½®ä¸€ä¸ªLLMæä¾›å•†
OPENAI_API_KEY=sk-xxx...
ANTHROPIC_API_KEY=sk-ant-xxx...
DASHSCOPE_API_KEY=sk-xxx...

# å¯é€‰ï¼šå¢å¼ºåŠŸèƒ½
SERPER_API_KEY=xxx...          # Googleæœç´¢API
ALPHA_VANTAGE_API_KEY=xxx...   # ç¾è‚¡æ–°é—»
FINNHUB_API_KEY=xxx...         # ç¾è‚¡æ•°æ®
```

2. **å®‰è£…ä¾èµ–**:
```bash
pip install -r requirements.txt
```

3. **å¯åŠ¨MongoDB** (å¦‚éœ€ä½¿ç”¨å†å²æ•°æ®):
```bash
docker-compose up -d tradingagents-mongodb
```

### ğŸ¯ **æ–¹å¼ä¸‰ï¼šä¸€é”®å‘½ä»¤æ¨¡å¼** â­

CLIæ”¯æŒå‘½ä»¤è¡Œå‚æ•°ï¼Œå¯è·³è¿‡äº¤äº’å¼æµç¨‹ç›´æ¥æ‰§è¡Œåˆ†æï¼

#### **ä½ è¦çš„å‘½ä»¤** (æ¸¯è‚¡01810ï¼Œä»Šå¤©ï¼Œæ–°é—»åˆ†æå¸ˆï¼ŒDeepSeek)ï¼š

```bash
python -m cli.main analyze \
  --ticker 01810.HK \
  --market 3 \
  --date 2026-01-23 \
  --analysts news \
  --provider deepseek
```

#### **å®Œæ•´å‚æ•°è¡¨**

| å‚æ•° | çŸ­å‚æ•° | è¯´æ˜ | å¯é€‰å€¼ / æ ¼å¼ | ç¤ºä¾‹ |
|:---|:---|:---|:---|:---|
| `--ticker` | `-t` | è‚¡ç¥¨ä»£ç  | æŒ‰å¸‚åœºæ ¼å¼ | `01810.HK`, `600036`, `AAPL` |
| `--market` | `-m` | å¸‚åœºç±»å‹ | `1`=ç¾è‚¡, `2`=Aè‚¡, `3`=æ¸¯è‚¡ | `3` |
| `--date` | `-d` | åˆ†ææ—¥æœŸ | `YYYY-MM-DD` | `2026-01-23` |
| `--analysts` | `-a` | åˆ†æå¸ˆ (å¯é‡å¤) | `market`, `news`, `fundamentals`, `social` | `-a news -a market` |
| `--depth` | `-l` | ç ”ç©¶æ·±åº¦ | `1`=å¿«é€Ÿ, `2`=æ ‡å‡†, `3`=æ·±åº¦ | `2` |
| `--provider` | `-p` | LLMæä¾›å•† | `deepseek`, `openai`, `anthropic`, `dashscope`, `google` | `deepseek` |

#### **æ›´å¤šä¸€é”®å‘½ä»¤ç¤ºä¾‹**

**Aè‚¡å¿«é€Ÿåˆ†æ** (æ‹›å•†é“¶è¡Œï¼Œå¸‚åœº+åŸºæœ¬é¢ï¼ŒDeepSeek)ï¼š
```bash
python -m cli.main analyze \
  -t 600036 \
  -m 2 \
  -a market -a fundamentals \
  -p deepseek \
  -l 1
```

**ç¾è‚¡æ·±åº¦åˆ†æ** (è‹¹æœï¼Œæ‰€æœ‰åˆ†æå¸ˆï¼ŒOpenAI)ï¼š
```bash
python -m cli.main analyze \
  --ticker AAPL \
  --market 1 \
  --analysts market \
  --analysts news \
  --analysts fundamentals \
  --analysts social \
  --depth 3 \
  --provider openai
```

**æ¸¯è‚¡æ ‡å‡†åˆ†æ** (è…¾è®¯ï¼Œä»Šå¤©ï¼Œæ–°é—»ï¼Œé˜¿é‡Œç™¾ç‚¼)ï¼š
```bash
python -m cli.main analyze \
  -t 0700.HK \
  -m 3 \
  -d $(date +%Y-%m-%d) \
  -a news \
  -p dashscope
```

**å¿«æ·å†™æ³•** (ä½¿ç”¨çŸ­å‚æ•°)ï¼š
```bash
# æ¸¯è‚¡å°ç±³ï¼Œæ–°é—»åˆ†æï¼ŒDeepSeek
python -m cli.main analyze -t 01810.HK -m 3 -a news -p deepseek

# Aè‚¡å®å¾·æ—¶ä»£ï¼Œå…¨éƒ¨åˆ†æå¸ˆï¼Œé˜¿é‡Œç™¾ç‚¼
python -m cli.main analyze -t 300750 -m 2 -a market -a news -a fundamentals -a social -p dashscope
```

---

## è¯¦ç»†ä½¿ç”¨æŒ‡å—

### ğŸ“Š **å®Œæ•´åˆ†ææµç¨‹** (äº¤äº’å¼)

è¿è¡Œ `python -m cli.main` åï¼Œç³»ç»Ÿä¼šå¼•å¯¼ä½ å®Œæˆ7ä¸ªæ­¥éª¤ï¼š

#### **æ­¥éª¤ 1: é€‰æ‹©å¸‚åœº**

```
è¯·é€‰æ‹©è‚¡ç¥¨å¸‚åœº | Please select stock market:
1. ğŸŒ ç¾è‚¡ | US Stock
   ç¤ºä¾‹ | Examples: SPY, AAPL, TSLA

2. ğŸŒ Aè‚¡ | China A-Share  
   ç¤ºä¾‹ | Examples: 000001 (å¹³å®‰é“¶è¡Œ), 600036 (æ‹›å•†é“¶è¡Œ)

3. ğŸŒ æ¸¯è‚¡ | Hong Kong Stock
   ç¤ºä¾‹ | Examples: 0700.HK (è…¾è®¯), 09988.HK (é˜¿é‡Œå·´å·´)

è¯·é€‰æ‹©å¸‚åœº | Select market [2]: 
```

#### **æ­¥éª¤ 2: è¾“å…¥è‚¡ç¥¨ä»£ç **

```
Aè‚¡è‚¡ç¥¨ç¤ºä¾‹ | China A-Share Examples:
  â€¢ 000001 (å¹³å®‰é“¶è¡Œ)
  â€¢ 600036 (æ‹›å•†é“¶è¡Œ)
  â€¢ 000858 (äº”ç²®æ¶²)

æ ¼å¼è¦æ±‚ | Format: 6ä½æ•°å­—ä»£ç  (å¦‚: 600036, 000001)

è¯·è¾“å…¥Aè‚¡è‚¡ç¥¨ä»£ç  | Enter China A-Share ticker [600036]:
```

**éªŒè¯è§„åˆ™**:
- ç¾è‚¡: 1-5ä½å¤§å†™å­—æ¯ (`^[A-Z]{1,5}$`)
- Aè‚¡: 6ä½æ•°å­— (`^\d{6}$`)
- æ¸¯è‚¡: ä»£ç .HK (`^\d{4,5}\.HK$`)

#### **æ­¥éª¤ 3: åˆ†ææ—¥æœŸ**

```
è¯·è¾“å…¥åˆ†ææ—¥æœŸ (YYYY-MM-DD) | Enter the analysis date (YYYY-MM-DD)

è¯·è¾“å…¥åˆ†ææ—¥æœŸ | Enter analysis date [2026-01-23]:
```

**æ³¨æ„**: ä¸èƒ½é€‰æ‹©æœªæ¥æ—¥æœŸ

#### **æ­¥éª¤ 4: é€‰æ‹©åˆ†æå¸ˆå›¢é˜Ÿ**

```
é€‰æ‹©æ‚¨çš„LLMåˆ†æå¸ˆæ™ºèƒ½ä½“è¿›è¡Œåˆ†æ | Select your LLM analyst agents

å¯ç”¨çš„åˆ†æå¸ˆ | Available analysts:
1. Market Analyst (å¸‚åœºåˆ†æå¸ˆ) - æŠ€æœ¯åˆ†æã€ä»·æ ¼èµ°åŠ¿
2. Social Analyst (èˆ†æƒ…åˆ†æå¸ˆ) - ç¤¾äº¤åª’ä½“æƒ…ç»ª
3. News Analyst (æ–°é—»åˆ†æå¸ˆ) - æ–°é—»äº‹ä»¶åˆ†æ
4. Fundamentals Analyst (åŸºæœ¬é¢åˆ†æå¸ˆ) - è´¢åŠ¡æŠ¥è¡¨åˆ†æ

è¯·è¾“å…¥åˆ†æå¸ˆç¼–å· (ç”¨é€—å·åˆ†éš”) | Enter analyst numbers (comma separated) [1,2,3,4]:
```

#### **æ­¥éª¤ 5: ç ”ç©¶æ·±åº¦**

```
é€‰æ‹©æ‚¨çš„ç ”ç©¶æ·±åº¦çº§åˆ« | Select your research depth level:

1. ğŸš€ Quick (å¿«é€Ÿ) - åŸºç¡€åˆ†æï¼Œ5-10åˆ†é’Ÿ
2. ğŸ“Š Standard (æ ‡å‡†) - å®Œæ•´åˆ†æï¼Œ15-20åˆ†é’Ÿ  
3. ğŸ”¬ Deep (æ·±åº¦) - å…¨é¢ç ”ç©¶ï¼Œ30-45åˆ†é’Ÿ

è¯·é€‰æ‹© | Select [2]:
```

#### **æ­¥éª¤ 6: LLMæä¾›å•†**

```
é€‰æ‹©è¦ä½¿ç”¨çš„LLMæœåŠ¡ | Select which LLM service to use:

1. OpenAI (GPT-4/GPT-3.5)
2. Anthropic (Claude)
3. é˜¿é‡Œç™¾ç‚¼ (é€šä¹‰åƒé—®)
4. Google Gemini
5. DeepSeek

è¯·é€‰æ‹© | Select [1]:
```

#### **æ­¥éª¤ 7: æ€è€ƒæ™ºèƒ½ä½“**

```
é€‰æ‹©æ‚¨çš„æ€è€ƒæ™ºèƒ½ä½“è¿›è¡Œåˆ†æ | Select your thinking agents:

æµ…å±‚æ€è€ƒæ™ºèƒ½ä½“ (Shallow Thinker):
1. gpt-4o
2. gpt-4o-mini
3. gpt-3.5-turbo

è¯·é€‰æ‹© | Select [1]:

æ·±å±‚æ€è€ƒæ™ºèƒ½ä½“ (Deep Thinker):
1. o1
2. o1-mini
3. o3-mini

è¯·é€‰æ‹© | Select [1]:
```

---

### ğŸ¬ **åˆ†ææ‰§è¡Œé˜¶æ®µ**

å®Œæˆé…ç½®åï¼ŒCLIä¼šè‡ªåŠ¨å¯åŠ¨å®æ—¶åˆ†æç•Œé¢ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Welcome to TradingAgents CLI                      â”‚
â”‚  Â© Tauric Research (https://github.com/TauricResearch)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Progress         â”‚ Messages & Tools                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚Team    Agent â”‚ â”‚ â”‚Time  Type    Content                 â”‚ â”‚
â”‚ â”‚Analyst Marketâ”‚ â”‚ â”‚10:23 Tool    get_stock_quotes        â”‚ â”‚
â”‚ â”‚       â—â—â—    â”‚ â”‚ â”‚10:24 Tool    get_technical_indicator â”‚ â”‚
â”‚ â”‚Social pendingâ”‚ â”‚ â”‚10:25 Message Analyzing market trend  â”‚ â”‚
â”‚ â”‚News   pendingâ”‚ â”‚ â”‚...                                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Current Report                                              â”‚
â”‚ ### Market Analysis                                         â”‚
â”‚ **Symbol**: 600036 (æ‹›å•†é“¶è¡Œ)                                â”‚
â”‚ **Current Price**: Â¥42.35                                   â”‚
â”‚ **Daily Change**: +1.23% â†—                                  â”‚
â”‚                                                             â”‚
â”‚ **Technical Indicators**:                                   â”‚
â”‚ - RSI(14): 58.3 (ä¸­æ€§)                                      â”‚
â”‚ - MACD: çœ‹æ¶¨ä¿¡å·                                            â”‚
â”‚ - å‡çº¿: å¤šå¤´æ’åˆ—                                             â”‚
â”‚ ...                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tool Calls: 12 | LLM Calls: 4 | Generated Reports: 1       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç•Œé¢å…ƒç´ è¯´æ˜**:

1. **Progress Panel** (å·¦ä¸Š):
   - æ˜¾ç¤º5å¤§å›¢é˜Ÿçš„æ‰§è¡ŒçŠ¶æ€
   - `pending`: ç­‰å¾…æ‰§è¡Œ
   - `in_progress`: æ­£åœ¨æ‰§è¡Œ (å¸¦æ—‹è½¬åŠ¨ç”»)
   - `completed`: å·²å®Œæˆ âœ…
   - `error`: æ‰§è¡Œå‡ºé”™ âŒ

2. **Messages & Tools** (å³ä¸Š):
   - å®æ—¶æ˜¾ç¤ºå·¥å…·è°ƒç”¨è®°å½•
   - æ˜¾ç¤ºLLMæ¨ç†æ¶ˆæ¯
   - æ»šåŠ¨æ˜¾ç¤ºæœ€è¿‘12æ¡è®°å½•

3. **Current Report** (ä¸‹æ–¹):
   - Markdownæ ¼å¼æ¸²æŸ“
   - å®æ—¶æ›´æ–°æœ€æ–°ç”Ÿæˆçš„æŠ¥å‘Šæ®µè½
   - æ”¯æŒè¡¨æ ¼ã€åˆ—è¡¨ã€ä»£ç å—ç­‰æ ¼å¼

4. **Footer** (åº•éƒ¨):
   - ç»Ÿè®¡å·¥å…·è°ƒç”¨æ¬¡æ•°
   - ç»Ÿè®¡LLMè°ƒç”¨æ¬¡æ•°
   - ç»Ÿè®¡ç”ŸæˆæŠ¥å‘Šæ•°

---

### ğŸ“„ **æœ€ç»ˆæŠ¥å‘Šå±•ç¤º**

åˆ†æå®Œæˆåï¼ŒCLIä¼šå±•ç¤ºå®Œæ•´çš„äº”éƒ¨åˆ†æŠ¥å‘Šï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ I. Analyst Team Reports                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Market Analystâ”‚Social Analystâ”‚News Analyst  â”‚Fundamentalsâ”‚
â”‚              â”‚              â”‚              â”‚Analyst     â”‚
â”‚### æŠ€æœ¯åˆ†æ   â”‚### èˆ†æƒ…æ‘˜è¦   â”‚### æ–°é—»äº‹ä»¶   â”‚### è´¢åŠ¡æ•°æ® â”‚
â”‚...           â”‚...           â”‚...           â”‚...         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ II. Research Team Decision                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Bull          â”‚Bear          â”‚Research Manager          â”‚
â”‚Researcher    â”‚Researcher    â”‚                          â”‚
â”‚### çœ‹æ¶¨ç†ç”±   â”‚### çœ‹è·Œé£é™©   â”‚### ç»¼åˆå†³ç­–              â”‚
â”‚...           â”‚...           â”‚...                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ III. Trading Team Plan                                  â”‚
â”‚ ### äº¤æ˜“è®¡åˆ’                                             â”‚
â”‚ - å»ºè®®æ“ä½œ: ä¹°å…¥/æŒæœ‰/å–å‡º                                â”‚
â”‚ - ç›®æ ‡ä»·æ ¼: ...                                          â”‚
â”‚ - æ­¢æŸä½: ...                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IV. Risk Management Team Decision                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Aggressive    â”‚Neutral       â”‚Conservative              â”‚
â”‚Analyst       â”‚Analyst       â”‚Analyst                   â”‚
â”‚### æ¿€è¿›ç­–ç•¥   â”‚### å¹³è¡¡ç­–ç•¥   â”‚### ä¿å®ˆç­–ç•¥              â”‚
â”‚...           â”‚...           â”‚...                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ V. Portfolio Manager Decision                           â”‚
â”‚ ### æœ€ç»ˆæŠ•èµ„å†³ç­–                                          â”‚
â”‚ - ç»¼åˆè¯„åˆ†: X/10                                         â”‚
â”‚ - æ¨èä»“ä½: X%                                           â”‚
â”‚ - é£é™©ç­‰çº§: é«˜/ä¸­/ä½                                      â”‚
â”‚ - æŠ•èµ„å»ºè®®: ...                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é…ç½®è¯´æ˜

### ğŸ”§ **ç¯å¢ƒå˜é‡é…ç½®** (`.env`)

#### **å¿…é€‰é…ç½®** (è‡³å°‘ä¸€ä¸ªLLMæä¾›å•†)

```env
# OpenAI
OPENAI_API_KEY=sk-proj-xxx...
OPENAI_BASE_URL=https://api.openai.com/v1  # å¯é€‰ï¼Œè‡ªå®šä¹‰ç«¯ç‚¹

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-xxx...

# é˜¿é‡Œç™¾ç‚¼
DASHSCOPE_API_KEY=sk-xxx...

# Google Gemini
GOOGLE_API_KEY=xxx...

# DeepSeek
DEEPSEEK_API_KEY=sk-xxx...
```

#### **å¯é€‰é…ç½®** (å¢å¼ºåŠŸèƒ½)

```env
# Serper (Googleæœç´¢APIï¼Œå¢å¼ºæ–°é—»è·å–)
SERPER_API_KEY=xxx...

# Alpha Vantage (ç¾è‚¡æ–°é—»å’ŒåŸºæœ¬é¢æ•°æ®)
ALPHA_VANTAGE_API_KEY=xxx...

# Finnhub (ç¾è‚¡å®æ—¶æ•°æ®)
FINNHUB_API_KEY=xxx...

# MongoDBè¿æ¥ (é»˜è®¤å€¼å¦‚ä¸‹)
MONGODB_URI=mongodb://localhost:27017
MONGODB_DB_NAME=tradingagents

# Redisè¿æ¥ (ç¼“å­˜åŠ é€Ÿ)
REDIS_HOST=localhost
REDIS_PORT=6379
```

### ğŸ“ **é…ç½®æ–‡ä»¶** (`config/config.yaml`)

ç³»ç»Ÿä¼šè‡ªåŠ¨ä»MongoDBåŠ è½½é…ç½®ï¼Œä¹Ÿå¯æ‰‹åŠ¨ç¼–è¾‘YAMLæ–‡ä»¶ï¼š

```yaml
llm_providers:
  openai:
    api_key: ${OPENAI_API_KEY}
    default_model: gpt-4o
    
  anthropic:
    api_key: ${ANTHROPIC_API_KEY}
    default_model: claude-3-5-sonnet-20241022

data_sources:
  china_stock:
    enabled: true
    providers: [akshare, tushare, baostock]
    
  us_stock:
    enabled: true
    providers: [yfinance, finnhub, alpha_vantage]
```

---

## å‘½ä»¤å‚è€ƒ

### ğŸ¯ **ä¸»å‘½ä»¤**

```bash
# å¯åŠ¨äº¤äº’å¼åˆ†æ
python -m cli.main

# æˆ–
python src/cli/main.py
```

### ğŸ“– **å¸®åŠ©å‘½ä»¤**

```bash
# æ˜¾ç¤ºå‘½ä»¤è¡Œå¸®åŠ©
python -m cli.main --help

# æ˜¾ç¤ºè¯¦ç»†ä¸­æ–‡å¸®åŠ©
python -m cli.main help
```

### âš™ï¸ **é…ç½®å‘½ä»¤**

```bash
# æ˜¾ç¤ºå½“å‰é…ç½®
python -m cli.main config

# æ˜¾ç¤ºå¯ç”¨çš„LLMæä¾›å•†
python -m cli.main providers

# æµ‹è¯•APIå¯†é’¥
python -m cli.main test
```

### ğŸ“¦ **å…¶ä»–å‘½ä»¤**

```bash
# æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
python -m cli.main version

# æ˜¾ç¤ºç¤ºä¾‹ç¨‹åº
python -m cli.main examples

# è¿è¡Œç³»ç»Ÿæµ‹è¯•
python -m cli.main test
```

---

## æ™ºèƒ½ä½“å·¥ä½œæµ

### ğŸ”„ **å®Œæ•´æ‰§è¡Œæµç¨‹**

```mermaid
graph TD
    A[ç”¨æˆ·è¾“å…¥è‚¡ç¥¨ä»£ç ] --> B[I. åˆ†æå¸ˆå›¢é˜Ÿ]
    
    B --> B1[Market Analyst<br/>æŠ€æœ¯åˆ†æ]
    B --> B2[Social Analyst<br/>èˆ†æƒ…åˆ†æ]
    B --> B3[News Analyst<br/>æ–°é—»åˆ†æ]
    B --> B4[Fundamentals Analyst<br/>åŸºæœ¬é¢åˆ†æ]
    
    B1 --> C[II. ç ”ç©¶å›¢é˜Ÿ]
    B2 --> C
    B3 --> C
    B4 --> C
    
    C --> C1[Bull Researcher<br/>çœ‹æ¶¨ç ”ç©¶]
    C --> C2[Bear Researcher<br/>çœ‹è·Œç ”ç©¶]
    C1 --> C3[Research Manager<br/>ç»¼åˆå†³ç­–]
    C2 --> C3
    
    C3 --> D[III. Trading Team]
    D --> D1[Trader<br/>äº¤æ˜“è®¡åˆ’]
    
    D1 --> E[IV. Risk Management]
    E --> E1[Risky Analyst<br/>æ¿€è¿›ç­–ç•¥]
    E --> E2[Neutral Analyst<br/>å¹³è¡¡ç­–ç•¥]
    E --> E3[Safe Analyst<br/>ä¿å®ˆç­–ç•¥]
    
    E1 --> F[V. Portfolio Management]
    E2 --> F
    E3 --> F
    F --> F1[Portfolio Manager<br/>æœ€ç»ˆå†³ç­–]
    
    F1 --> G[ç”Ÿæˆå®Œæ•´æŠ¥å‘Š]
```

### â±ï¸ **é¢„è®¡æ‰§è¡Œæ—¶é—´**

| ç ”ç©¶æ·±åº¦ | é¢„è®¡æ—¶é—´ | è¯´æ˜ |
|:---|:---|:---|
| ğŸš€ Quick | 5-10åˆ†é’Ÿ | å¿«é€Ÿåˆ†æï¼ŒåŸºç¡€æŠ€æœ¯æŒ‡æ ‡ + é‡ç‚¹æ–°é—» |
| ğŸ“Š Standard | 15-20åˆ†é’Ÿ | æ ‡å‡†åˆ†æï¼Œå®Œæ•´æ•°æ® + æ·±åº¦æ–°é—» + åŸºæœ¬é¢ |
| ğŸ”¬ Deep | 30-45åˆ†é’Ÿ | å…¨é¢ç ”ç©¶ï¼Œå†å²å›æµ‹ + è¡Œä¸šå¯¹æ¯” + è¯¦ç»†è´¢æŠ¥ |

**å½±å“å› ç´ **:
- LLMå“åº”é€Ÿåº¦
- ç½‘ç»œå»¶è¿Ÿ
- æ•°æ®æºå¯ç”¨æ€§
- é€‰æ‹©çš„åˆ†æå¸ˆæ•°é‡

---

## å¸¸è§é—®é¢˜

### â“ **Q1: CLIå’ŒWebå‰ç«¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**

**A**: åŠŸèƒ½å®Œå…¨ä¸€è‡´ï¼ŒåŒºåˆ«ä»…åœ¨ç•Œé¢å½¢å¼ï¼š

| ç‰¹æ€§ | CLI | Webå‰ç«¯ |
|:---|:---|:---|
| æ™ºèƒ½ä½“å·¥ä½œæµ | âœ… å®Œå…¨ç›¸åŒ | âœ… å®Œå…¨ç›¸åŒ |
| æ•°æ®æº | âœ… å®Œå…¨ç›¸åŒ | âœ… å®Œå…¨ç›¸åŒ |
| åˆ†ææ·±åº¦ | âœ… å®Œå…¨ç›¸åŒ | âœ… å®Œå…¨ç›¸åŒ |
| ç•Œé¢å½¢å¼ | ç»ˆç«¯UI | æµè§ˆå™¨UI |
| å®æ—¶è¿›åº¦ | RichåŠ¨ç”» | SSEæµå¼æ›´æ–° |
| æŠ¥å‘Šå±•ç¤º | Markdownæ¸²æŸ“ | HTMLæ¸²æŸ“ |

---

### â“ **Q2: å¦‚ä½•åŠ å¿«åˆ†æé€Ÿåº¦ï¼Ÿ**

**A**: å‡ ç§ä¼˜åŒ–æ–¹æ¡ˆï¼š

1. **ä½¿ç”¨ç¼“å­˜**:
```env
REDIS_HOST=localhost  # å¯ç”¨Redisç¼“å­˜
```

2. **å‡å°‘åˆ†æå¸ˆæ•°é‡**:
```
åªé€‰æ‹©å…³é”®åˆ†æå¸ˆï¼Œå¦‚: 1,4 (Market + Fundamentals)
```

3. **é€‰æ‹©å¿«é€Ÿæ€è€ƒæ¨¡å‹**:
```
Shallow Thinker: gpt-4o-mini
Deep Thinker: o3-mini
```

4. **é¢„å…ˆåŒæ­¥æ•°æ®**:
```bash
python src/scripts/sync_stock_data.py --symbol 600036
```

---

### â“ **Q3: CLIåˆ†æå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**

**A**: æ£€æŸ¥æ­¥éª¤ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**:
```bash
# æ—¥å¿—ä½ç½®
tail -f logs/cli.log
```

2. **éªŒè¯APIå¯†é’¥**:
```bash
python -m cli.main test
```

3. **æ£€æŸ¥æ•°æ®æºè¿é€šæ€§**:
```bash
# æµ‹è¯•MongoDB
docker exec -it tradingagents-mongodb mongosh

# æµ‹è¯•å¤–éƒ¨API
curl "https://api.openai.com/v1/models" -H "Authorization: Bearer $OPENAI_API_KEY"
```

4. **å¸¸è§é”™è¯¯**:

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|:---|:---|:---|
| `API key not found` | æœªé…ç½®APIå¯†é’¥ | æ£€æŸ¥ `.env` æ–‡ä»¶ |
| `Connection refused` | æœåŠ¡æœªå¯åŠ¨ | å¯åŠ¨ MongoDB/Redis |
| `Rate limit exceeded` | APIé…é¢ç”¨å°½ | ç­‰å¾…æˆ–åˆ‡æ¢æä¾›å•† |
| `Invalid ticker format` | è‚¡ç¥¨ä»£ç æ ¼å¼é”™è¯¯ | å‚è€ƒæ ¼å¼è¯´æ˜é‡æ–°è¾“å…¥ |

---

### â“ **Q4: å¦‚ä½•ä¿å­˜åˆ†ææŠ¥å‘Šï¼Ÿ**

**A**: CLIä¼šè‡ªåŠ¨ä¿å­˜åˆ†æå†å²åˆ°MongoDBï¼š

```python
# æŸ¥è¯¢å†å²æŠ¥å‘Š
from tradingagents.config.mongodb_storage import MongoDBStorage
storage = MongoDBStorage()

# è·å–æœ€è¿‘çš„åˆ†æ
recent_analyses = storage.get_recent_analyses(symbol="600036", limit=10)
```

**æ‰‹åŠ¨å¯¼å‡º**:
```bash
# å¯¼å‡ºä¸ºJSON
python src/scripts/export_analysis.py --symbol 600036 --format json

# å¯¼å‡ºä¸ºPDF (éœ€é…ç½®)
python src/scripts/export_analysis.py --symbol 600036 --format pdf
```

---

### â“ **Q5: CLIæ”¯æŒæ‰¹é‡åˆ†æå—ï¼Ÿ**

**A**: å¯ä»¥é€šè¿‡è„šæœ¬å®ç°æ‰¹é‡åˆ†æï¼š

```python
# batch_analyze.py
from cli.main import run_analysis

stocks = ["600036", "000001", "000858"]

for symbol in stocks:
    config = {
        "ticker": symbol,
        "market": {"data_source": "china_stock"},
        "analysts": ["market", "fundamentals"],
        "research_depth": "quick"
    }
    run_analysis(config)
```

---

### â“ **Q6: æ—¥å¿—åœ¨å“ªé‡Œï¼Ÿ**

**A**: æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼š

```
logs/
â”œâ”€â”€ cli.log              # CLIä¸»æ—¥å¿—
â”œâ”€â”€ tradingagents.log    # åç«¯æ—¥å¿—
â”œâ”€â”€ data_sources.log     # æ•°æ®æºæ—¥å¿—
â””â”€â”€ llm_calls.log        # LLMè°ƒç”¨æ—¥å¿—
```

**æŸ¥çœ‹å®æ—¶æ—¥å¿—**:
```bash
# æŸ¥çœ‹CLIæ—¥å¿—
tail -f logs/cli.log

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
tail -f logs/*.log
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **GitHub**: https://github.com/TauricResearch/TradingAgents-AllInOne
- **Issues**: https://github.com/TauricResearch/TradingAgents-AllInOne/issues
- **æ–‡æ¡£**: æŸ¥çœ‹ `docs/` ç›®å½•

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªé¡¹ç›®ä¸»è®¸å¯è¯ã€‚è¯¦è§ `LICENSE` æ–‡ä»¶ã€‚

---

**ğŸ‰ Happy Trading with TradingAgents CLI! ğŸš€**
